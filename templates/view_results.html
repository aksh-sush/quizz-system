<!DOCTYPE html>
<html>
<head>
    <title>View Results</title>
    <style>
        body { font-family: Arial; background: #e6f2ff; padding: 20px; }
        .container { background: white; padding: 20px; border-radius: 8px; max-width: 800px; margin: auto; }
        h2 { text-align: center; }
        .submission { margin-bottom: 15px; }
        .submission strong { font-size: 16px; }
        .submission p { margin-left: 20px; }
        .correct { color: green; }
        .incorrect { color: red; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Results for Quiz: {{ quiz_title }}</h2>

        {% for student_id, result in results.items() %}
            <div class="submission">
                <h3>Student ID: {{ student_id }}</h3>
                <p><strong>Total Questions:</strong> {{ result.total }} | <strong>Correct Answers:</strong> {{ result.correct }}</p>

                <!-- Loop through the answers for this student -->
                {% for answer in result.answers %}
                    <p>
                        <strong>Question: {{ answer.question }}</strong><br>
                        Your Answer: <strong>{{ answer.student_answer }}</strong><br>
                        Correct Answer: <strong>{{ answer.correct_answer }}</strong><br>
                        <span class="{{ 'correct' if answer.is_correct == 'Correct' else 'incorrect' }}">
                            {{ answer.is_correct }}
                        </span>
                    </p>
                {% endfor %}
            </div>
        {% endfor %}

        <a href="/instructor_dashboard" class="button">Back to Dashboard</a>
    </div>
</body>
</html>
